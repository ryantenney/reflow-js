(function(f){var e=function(){this._count=0;this._data={};this._concurrency=num},c=e.prototype;c.wait=function(a){this._count++;var b=this;return function(){b._count--;a&&a.apply(b,arguments);b.ifComplete()}};c.concurrency=function(a){this._concurrency=a;return this};c.grab=function(a){var b=this._data;return this.wait(function(d){b[a]=d})};c.getData=function(){return this._data};c.ifComplete=function(){this._count==0&&this._complete&&this._complete(this._data)};c.then=function(a){this._complete=
a;this.ifComplete();return this};c.exec=function(){for(var a=Array.prototype.slice.call(arguments,0),b=0,d=a.length;d>b;++b)a[b].call(this);return this};c.seq=function(){};f.reflow=e})(this);